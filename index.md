<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">

	<title>(Co/Deco)dificador</title>

	<link rel="stylesheet" href="challenge1.css">
</head>

<body>
	<div class="titulo">
		<header>(Co/Deco)dificador</header>
	</div>

	<img id="imagem1" src="img1.png">
	<textarea class="campo"; placeholder="Digite ou cole a mensagem para ser (co/deco)dificada ;)"></textarea>

	<textarea id="revela"; readonly; placeholder="Nenhuma mensagem detectada." ></textarea>
	<br><img id="imagem2" src="img2.png">
	<em>Atenção: proibido letras maiúsculas e letras com acento.</em>

	<div>
		<br><button class="cod">Codificar</button><button class="decod">Decodificar</button><button class="copy">Copiar</button>
	</div>
	<div id="rodape">
		<br><br><br><br>Projeto criado por <a href="https://www.linkedin.com/in/estevaoviana/">Estêvão Viana Queiroz.</a>
	</div>
</body>

<script>
	function mostra(texto){
		document.write(texto);
	}
	var textarea = document.querySelector("textarea");
	textarea.focus();
	var tela = document.getElementById("revela")
	var button1 = document.querySelector(".cod");
	var button2 = document.querySelector(".decod");
	var button3 = document.querySelector(".copy")

	button1.onclick = function(){
		var texto = textarea.value;

		var soletra = texto.split("");

		var textoFinal = [];

		var posicao = 0;

		for(contador = 0; contador < soletra.length; contador++){
			
			if(soletra[posicao] == "a"){
				textoFinal.push("ai");
			} else if(soletra[posicao] == "e"){
				textoFinal.push("enter");
			} else if(soletra[posicao] == "i"){
				textoFinal.push("imes");
			} else if(soletra[posicao] == "o"){
				textoFinal.push("ober");
			} else if(soletra[posicao] == "u"){
				textoFinal.push("ufat");
			} else if(soletra[posicao] != "a" 
				&& soletra[posicao] != "e" 
				&& soletra[posicao] != "i"
				&& soletra[posicao] != "o"
				&&soletra[posicao] != "u") {

					textoFinal.push(soletra[posicao]);
			}	

			posicao++	
		}
		tela.value = textoFinal.join('');
	}


	button2.onclick = function(){
		var texto = textarea.value;

		var soletra = texto.split("");

		var posicao = 0;

		for(contador = 0; contador < soletra.length; contador++){
			
			if(soletra[posicao] == "a"){
				soletra.splice(posicao + 1, 1);
			} else if(soletra[posicao] == "e"){
				soletra.splice(posicao + 1, 4);
			} else if(soletra[posicao] == "i"){
				soletra.splice(posicao + 1, 3);
			} else if(soletra[posicao] == "o"){
				soletra.splice(posicao + 1, 3);
			} else if(soletra[posicao] == "u"){
				soletra.splice(posicao + 1, 3);
			} 
			posicao++	
		}

	tela.value = soletra.join("");
	}
	button3.onclick = function(){
		tela.select()
		document.execCommand("copy")
	}

</script>